{"meta":{"title":"Hi, I'm Vanessa.","subtitle":"æ‹¥æŠ±è‡ªç”±","description":"å“ˆå–½å‘€","author":"Vanessa Yao","url":"https://vanessayaoyao.github.io","root":"/"},"pages":[{"title":"tags","date":"2021-12-03T10:26:53.000Z","updated":"2021-12-03T10:27:25.448Z","comments":true,"path":"tags/index.html","permalink":"https://vanessayaoyao.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Redisåˆè¯†","slug":"meet-redis","date":"2021-12-18T05:30:10.000Z","updated":"2021-12-18T06:51:06.166Z","comments":true,"path":"2021/12/18/meet-redis/","link":"","permalink":"https://vanessayaoyao.github.io/2021/12/18/meet-redis/","excerpt":"","text":"ç¨‹åºéƒ¨æœ‰ä¸€å›è¯¾æ˜¯è®²ç¼“å­˜çš„ï¼Œä½†é‚£å¤©æˆ‘ç¡è¿‡å¤´äº†æ²¡ä¸Šæˆã€‚å°±å¯¹redisä¸æ€ä¹ˆäº†è§£ï¼Œä¹Ÿæ²¡å…·ä½“åº”ç”¨è¿‡ã€‚ æ­¤äº‹è­¦é†’æˆ‘ä»¬ä¸è¦ç¡è¿‡å¤´ï¼ ä»€ä¹ˆæ˜¯Redisï¼ŸRedis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰ ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ MySQL VS RedisMySQLæ˜¯å…³ç³»å‹æ•°æ®åº“,ä¸»è¦ç”¨äºå­˜æ”¾æŒä¹…åŒ–æ•°æ®,å°†æ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­,è¯»å–é€Ÿåº¦è¾ƒæ…¢. Redisæ˜¯NOSQL,å³éå…³ç³»å‹æ•°æ®åº“,ä¹Ÿæ˜¯ç¼“å­˜æ•°æ®åº“,å³å°†æ•°æ®å­˜å‚¨åœ¨ç¼“å­˜ä¸­,ç¼“å­˜çš„è¯»å–é€Ÿåº¦å¿«,èƒ½å¤Ÿå¤§å¤§çš„æé«˜è¿è¡Œæ•ˆç‡,ä½†æ˜¯ä¿å­˜æ—¶é—´æœ‰é™. ç¼“å­˜çš„å¿…è¦ç½‘ç«™è®¿é—®çš„ç‰¹ç‚¹å’Œç°å®ä¸–ç•Œçš„è´¢å¯Œåˆ†é…ä¸€æ ·éµå¾ªäºŒå…«å®šå¾‹ï¼š80% çš„ä¸šåŠ¡è®¿é—®é›†ä¸­åœ¨20% çš„æ•°æ®ä¸Šã€‚æ—¢ç„¶å¤§éƒ¨åˆ†ä¸šåŠ¡è®¿é—®é›†ä¸­åœ¨ä¸€å°éƒ¨åˆ†æ•°æ®ä¸Šï¼Œé‚£ä¹ˆå¦‚æœæŠŠè¿™ä¸€å°éƒ¨åˆ†æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå°±å¯ä»¥å‡å°‘æ•°æ®åº“çš„è®¿é—®å‹åŠ›ï¼Œæé«˜æ•´ä¸ªç½‘ç«™çš„æ•°æ®è®¿é—®é€Ÿåº¦ï¼Œæ”¹å–„æ•°æ®åº“çš„å†™å…¥æ€§èƒ½äº†ã€‚ Redis åœ¨djangoçš„ä½¿ç”¨ä¸‹è½½é¦–å…ˆè¦å…ˆä¸‹è½½Redis, å‚è€ƒæ­¥éª¤ï¼šclick this 1pip install django-redis redis å’Œ django-redisçš„åŒºåˆ«ï¼Œå°±åƒmysqlå’Œmysqlclientçš„åŒºåˆ«ã€‚ æˆ‘ä»¥å‰è¿˜ä»¥ä¸ºä¸‹è½½django-rediså°±å®Œäº‹äº†å‘¢ï¼ŒğŸ˜“ settings.pyé‡Œçš„é…ç½®å¤åˆ¶ä¸€ä¸‹githubä¸Šå®˜æ–¹æ–‡æ¡£çš„é…ç½® 123456789CACHES = &#123; &quot;default&quot;: &#123; &quot;BACKEND&quot;: &quot;django_redis.cache.RedisCache&quot;, &quot;LOCATION&quot;: &quot;redis://127.0.0.1:6379/1&quot;, &quot;OPTIONS&quot;: &#123; &quot;CLIENT_CLASS&quot;: &quot;django_redis.client.DefaultClient&quot;, &#125; &#125;&#125; ç®€å•ä½¿ç”¨æˆ‘æœ‰è¿™ä¹ˆç®€ç®€å•å•ä¸€å¼ è¡¨ 12345# models.pyclass Blog(models.Model): title = models.CharField(max_length=128) author = models.CharField(max_length=128) content = models.TextField() æˆ‘æƒ³å®ç°ï¼šå½“ç”¨æˆ·è®¿é—®ä¸€ç¯‡åšå®¢æ—¶ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ä»æ•°æ®åº“é‡Œæ‹¿å‡ºæ¥ï¼Œæ”¾åœ¨ç¼“å­˜é‡Œã€‚å½“ç”¨æˆ·å†æ¬¡è®¿é—®æ—¶ï¼Œä¸å†è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œä½¿ç”¨ç¼“å­˜æ•°æ®ã€‚ 123456789101112131415161718192021#views.pyfrom django.core.cache import cachedef blog(request,id): dic = &#123;&#125; if request.method == &quot;GET&quot;: if cache.get(id): dic[&#x27;code&#x27;] = 200 dic[&#x27;msg&#x27;] = &quot;hit the cache&quot; dic[&#x27;data&#x27;] = BlogSerializer(cache.get(id)).data # cache.delete(id) else: dic[&#x27;code&#x27;] = 201 dic[&#x27;msg&#x27;] = &quot;hit the database&quot; blog = Blog.objects.get(id=id) cache.set(id, blog) #idä¸ºé”®ï¼Œblogä¸ºå€¼ dic[&#x27;data&#x27;] = BlogSerializer(blog).data else: dic[&#x27;code&#x27;] = 400 dic[&#x27;msg&#x27;] = &quot;wrong method&quot; return JsonResponse(dic) ç¬¬ä¸€æ¬¡è®¿é—® å†æ¬¡è®¿é—® æ›´å¤šæ“ä½œï¼ˆå¦‚è®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰å¯å‚è€ƒï¼šdjango-redis","categories":[],"tags":[{"name":"code","slug":"code","permalink":"https://vanessayaoyao.github.io/tags/code/"}]},{"title":"è‹±è¯­ã€è®¡ç®—æœºä¸æˆ‘","slug":"about-me","date":"2021-12-12T04:59:55.000Z","updated":"2021-12-12T07:05:35.364Z","comments":true,"path":"2021/12/12/about-me/","link":"","permalink":"https://vanessayaoyao.github.io/2021/12/12/about-me/","excerpt":"","text":"Early Yearsæˆ‘æ¥è‡ªä¸€ä¸ªåå…«çº¿å°å¿åŸï¼Œä¸Šåˆä¸­å‰æ²¡æ¥è§¦è¿‡è‹±è¯­ï¼Œä¸Šå¤§å­¦å‰æ²¡æ¥è§¦è¿‡ç¼–ç¨‹ã€‚ å°å­¦å°±åœ¨æˆ‘ä»¬æ‘é‡Œä¸Šçš„ï¼Œä¸Šåˆä¸Šæ•°å­¦ï¼Œä¸‹åˆä¸Šè¯­æ–‡ï¼Œä½“è‚²è¯¾å°±æ˜¯è€å¸ˆé¢†ç€æˆ‘ä»¬å»æ“åœºä¸Šè½¬ä¸¤åœˆã€‚æ²¡æœ‰è‹±è¯­è¯¾ï¼Œæ›´åˆ«è¯´ä»€ä¹ˆéŸ³ä¹è¯¾æ‰‹å·¥è¯¾çš„ã€‚åæ­£å¯¹äºå°æ—¶å€™çš„æˆ‘æ¥è¯´ï¼Œæ—¥å­è¿‡å¾—å¹³æ·¡åˆå¿«ä¹ï¼Œæ²¡æœ‰ä»€ä¹ˆç³Ÿå¿ƒäº‹ï¼Œæ²¡æœ‰ä»€ä¹ˆæˆç»©æ’åï¼Œæ”¾å­¦äº†å°±èƒŒç€ä¹¦åŒ…èµ°ç€å›å®¶ã€‚å¯èƒ½å¶å°”çƒ¦æ¼å°±æ˜¯ï¼Œå’Œæˆ‘å®¶åœ¨ä¸€ä¸ªèƒ¡åŒçš„å‘å°ï¼Œå¥¹æœ‰å¥½å¤šå¥½çœ‹çš„å‘å¡å¸¸å¸¸æˆ´æ»¡äº†å¤´å‘ï¼Œè€Œæˆ‘æ²¡æœ‰ï¼Œæœ‰æ—¶ä¼šå«‰å¦’å¥¹å“ˆå“ˆã€‚ ä¸Šäº†åˆä¸­å°±å¼€å§‹æ¯å‘¨å›ä¸€æ¬¡å®¶äº†ï¼Œæˆ‘å’Œæˆ‘å‘å°åˆ†åˆ°äº†ä¸åŒçš„å­¦æ ¡ï¼Œå¥¹ä¹‹åå¯¹æˆ‘è¯´ä¸Šäº†åˆä¸­ä¹‹åï¼Œå¥¹çš„ç«¥å¹´å°±ç»“æŸäº†ï¼Œå…¶å®æƒ³æƒ³æˆ‘ä¹Ÿæ˜¯ã€‚ä¸Šå°å­¦çš„æ—¶å€™ä»æ¥æ²¡æœ‰ä»€ä¹ˆæˆç»©æ’åï¼Œè„‘æµ·é‡Œæ ¹æœ¬æ²¡æœ‰è¿™ä¸ªæ„è¯†ã€‚ä¸Šäº†åˆä¸­å°±å¼€å§‹æ’åæ’åæ’åï¼Œä½†æ—¥å­è¿˜ç®—è½»æ¾ã€‚åˆä¸€çš„æ—¶å€™è®¤è¯†äº†å¥½å¤šæœ‹å‹ï¼Œç°åœ¨è¿˜ä¸€ç›´è”ç³»ï¼Œä¸€å›å®¶å°±ä¼šèšèšï¼Œå¹³æ—¶è™½ç„¶ä¸æ€ä¹ˆèŠå¤©ï¼Œä½†åœ¨æˆ‘å¿ƒé‡Œå¥¹ä»¬å·²ç»æ˜¯å®¶äººèˆ¬çš„å­˜åœ¨ã€‚ ä¸‹è¯¾çš„æ—¶å€™çœ‹çœ‹è¨€æƒ…å°è¯´ï¼Œå’Œæœ‹å‹æ‰“æ‰“é—¹é—¹ï¼Œå¶å°”å…³å¿ƒä¸€ä¸‹æˆç»©æ’åï¼Œç”šè‡³è¿˜è°ˆè¿‡ä¸€æ®µæ‹çˆ±å“ˆå“ˆå“ˆï¼Œæ—¶é—´è¿‡å¾—å¾ˆå¿«ã€‚æ—¶é—´ä»ä»¥å¤©ä¸ºå•ä½å˜æˆäº†ä»¥å‘¨ä¸ºå•ä½ï¼Œè‡ªç„¶æ„Ÿè§‰è¿‡å¾—å¾ˆå¿«ã€‚ç°åœ¨ç”šè‡³å˜æˆäº†ä»¥å­¦æœŸä¸ºå•ä½ï¼Œæœ‰æ—¶ä¼šçªç„¶åœ°ææƒšï¼Œä¸çŸ¥é“ç°åœ¨æ˜¯å“ªå¹´å“ªæœˆå“ªå¤©ï¼Œå·²ç»è¿‡å»ä¸¤ä¸‰å¹´çš„äº‹æƒ…ä»¿ä½›å°±æ˜¯æ˜¨å¤©ã€‚ ä¸Šäº†é«˜ä¸­ï¼Œæˆ‘çš„æ€§æƒ…å‘ç”Ÿäº†æŒºå¤§çš„å˜åŒ–ï¼Œæ›¾ç»è¦å¥½çš„æœ‹å‹æ•£è½å„åœ°ï¼Œä¹Ÿæ²¡æœ‰ç²¾åŠ›å»ç»“äº¤æ–°çš„æœ‹å‹ï¼Œæˆ‘é€æ¸é€‚åº”äº†ä¸€ä¸ªäººç”Ÿæ´»ï¼Œä¸€ä¸ªäººè·‘ç€å»åƒé¥­ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ²‰é»˜å¯¡è¨€ï¼Œæ²¡æœ‰è¯è¯´ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆè¡¨æƒ…ã€‚å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¾ˆå¤§çš„å˜åŒ–ï¼Œæˆ‘ä¸€ç›´å¦‚æ­¤ï¼Œæ‡’å¾—å¾ˆã€‚é«˜ä¸­å‡ ä¹éƒ½æ˜¯å­¦ä¹ äº†ï¼Œå­¦ä¹ å­¦ä¹ å­¦ä¹ ï¼Œè€ƒä¸Šä¸€ä¸ªå¥½å¤§å­¦ã€‚ä¸¤å‘¨å›å®¶ä¸€æ¬¡åˆ°æœ€åä¸€ä¸ªæœˆå›å®¶ä¸€æ¬¡ï¼Œä¸€æ¬¡åœ¨å®¶çš„æ—¶é—´ä¸è¶…è¿‡äºŒåå››å°æ—¶ï¼Œä¸€åˆ‡ç…§æ¬è¡¡æ°´ä¸­å­¦çš„æ¨¡å¼ã€‚ English and Meå¿˜è®°ä¸Šé«˜ä¸­çš„æ—¶å€™è¿˜æ˜¯ä¸Šåˆä¸­çš„æ—¶å€™äº†ï¼Œæˆ‘æœ‰ä¸€æ®µæ—¶é—´ç‰¹åˆ«å–œæ¬¢å»æ ¡é—¨å£çš„ä¹¦æ‘Šé‚£ä¹°ä¹¦ï¼Œå‘¨ä¸€å°±æŠŠæ‰€æœ‰çš„é›¶èŠ±é’±å°±èŠ±å…‰äº†ã€‚è¯»åˆ°ä¸‰æ¯›çš„æ’’å“ˆæ‹‰çš„æ•…äº‹ï¼Œæˆ‘ä¹Ÿæƒ³æˆä¸ºåƒå¥¹é‚£æ ·çš„äººï¼Œæ´’è„±åˆè‡ªç”±ï¼Œäºæ˜¯æˆ‘å°±æŠŠåŒ—äº¬åæœˆå‡ºç‰ˆç¤¾çš„ä¸‰æ¯›ç³»åˆ—å…¨ä¹°æ¥è¯»äº†ä¸€éã€‚ä¸‰æ¯›ä¼šå¥½å‡ ç§è¯­è¨€ï¼Œè¥¿ç­ç‰™è¯­ç»å¸¸å‡ºç°åœ¨å¥¹çš„ä¹¦é‡Œï¼Œä¼°è®¡è¿™å°±æ˜¯æˆ‘æƒ³è¯»è¯­è¨€çš„ç”±æ¥å§ã€‚ æ°å·§é«˜ä¸­çš„æ—¶å€™æˆ‘è‹±è¯­çš„æˆç»©è¿˜ä¸é”™ï¼Œä¸€èˆ¬è€ƒè¯•æˆç»©éƒ½åœ¨ä¸€ç™¾ä¸‰ä»¥ä¸Šï¼Œæœ‰æ¬¡è¿˜ä¸Šäº†ä¸€ç™¾å››ï¼Œä¸è‡ªè§‰ä¾¿é£˜é£˜ç„¶ï¼Œè®¤ä¸ºè‡ªå·±æœ‰å­¦è¯­è¨€çš„å¤©èµ‹ï¼Œè‡ªå·±å°±æ˜¯å¤©é€‰ä¹‹å¥³ï¼Œç°åœ¨æƒ³æƒ³ä¹Ÿæ˜¯æŒºå¥½ç¬‘çš„ã€‚åœ¨æ‰€æœ‰çš„è¯¾é‡Œï¼Œæˆ‘æœ€å–œæ¬¢ä¸Šçš„å°±æ˜¯è‹±è¯­ï¼Œæ„Ÿè§‰ä¸Šçš„æœ€è½»æ¾çš„ä¹Ÿæ˜¯è‹±è¯­ï¼Œå“ªä¸€æ¬¡è‹±è¯­æ²¡æœ‰è€ƒå¥½å°±ä¼šæš—è‡ªç¥ä¼¤ï¼Œç”šè‡³æ‰ä¸¤æ»´çœ¼æ³ªã€‚ä½†å…¶å®æƒ³æƒ³ï¼Œæˆ‘å…¶å®æ˜¯è¢«è‡ªå·±æ‰€è¥é€ çš„å‡è±¡æ‰€æ¬ºéª—äº†ï¼Œæˆ‘ä¸€ç›´æš—ç¤ºè‡ªå·±ï¼Œæˆ‘çš„è‹±è¯­å¾ˆå¥½ï¼Œæˆ‘çš„è‹±è¯­å¾ˆå¥½ï¼Œå¦‚æ­¤è¿™èˆ¬ã€‚ é«˜è€ƒå®Œåé€‰ä¸“ä¸šï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œæˆ‘æŠŠæ‰€æœ‰å­¦æ ¡çš„è¯­è¨€ä¸“ä¸šé€‰äº†ä¸ªéï¼Œéè¯­è¨€ä¸“ä¸šä¸è¯»ã€‚ç°åœ¨çš„æˆ‘çŸ¥é“é€‰è¯­è¨€ä¸“ä¸šä¸æ˜¯ä¸€ä¸ªå¥½çš„å†³å®šï¼Œä½ ä¼šåæ‚”çš„ç”šè‡³è®¨åŒè¯­è¨€ã€‚ä½†å¯¹äºå½“æ—¶çš„æˆ‘æ¥è¯´ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…¶ä»–çš„é€‰æ‹©ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆå¸®ä¸ä¸Šæˆ‘ï¼Œä»–ä»¬ç»™ä¸äº†æˆ‘å¥½çš„å»ºè®®ï¼Œæ‰€æœ‰çš„é€‰æ‹©æƒéƒ½åœ¨æˆ‘è‡ªå·±ã€‚æˆ‘ç°åœ¨åªèƒ½åº†å¹¸å½“æ—¶æ²¡æœ‰æŠŠåŒ—äº¬ç¬¬äºŒå¤–å›½è¯­å­¦é™¢æ”¾åœ¨ç¬¬ä¸€å¿—æ„¿ï¼Œå†²ç€æµ·å¤§985çš„åå¤´é€‰äº†æµ·å¤§ã€‚ å½“æ—¶åœ¨çŸ¥ä¹çœ‹äº†å¾ˆå¤šå…³äºè‹±è¯­ä¸“ä¸šçš„é—®é¢˜ï¼Œåœ¨Bç«™ä¹Ÿçœ‹äº†å¾ˆå¤šå…³äºè‹±è¯­ä¸“ä¸šçš„è§†é¢‘åˆ†äº«ï¼Œå¹»æƒ³ç€è‡ªå·±ä¹Ÿèƒ½åƒä»–ä»¬è¿™æ ·ï¼Œä¸€å£æµåˆ©è‹±è¯­ï¼Œç»“äº¤å„å›½å¥½å‹ï¼Œä»æ­¤èµ°ä¸Šäººç”Ÿå·…å³°ã€‚ä½†æˆ‘å¿˜è®°äº†æœ‰ä¸ªä¸œè¥¿å«ï¼Œå¹¸å­˜è€…åå·®ï¼Œæˆ‘å¿½è§†äº†ä¸€åˆ‡ä¸åŒçš„å£°éŸ³ï¼Œåªæƒ³çœ‹åˆ°è‡ªå·±çœ‹åˆ°çš„ä¸œè¥¿ã€‚å“¦å¯¹äº†ï¼Œå½“æ—¶æˆ‘è¿˜è®¤ä¸ºè¯­è¨€ä¸“ä¸šå¤§ä¸‰çš„æ—¶å€™éƒ½èƒ½å‡ºå›½äº¤æ¢çš„ï¼Œå“ˆå“ˆã€‚é‚£äº›å‡ºæ¥åˆ†äº«çš„å½“ç„¶æ˜¯è¿‡å¾—è¿˜ä¸é”™çš„ï¼Œè¿˜æœ‰ä»–ä»¬æ˜¯åŒ—å¤–æˆ–è€…ä¸Šå¤–çš„ï¼Œæ²‰é»˜çš„å¤§å¤šæ•°æ˜¯æ²¡æœ‰è¯è¯­æƒçš„ã€‚ Coding and Meè¿›å…¥å¤§å­¦ï¼Œæˆ‘ç»™æˆ‘è‡ªå·±è¥é€ å‡ºçš„æˆ‘è‹±è¯­å¾ˆå¥½çš„å‡è±¡å¼€å§‹ä¸€ç‚¹ç‚¹ç“¦è§£ã€‚è€å¸ˆåœ¨ä¸“ä¸šè¯¾ä¸ŠæŒ‡å‡ºæˆ‘è¯»éŸ³æœ‰é—®é¢˜ï¼›è¯æ±‡é‡å·®çš„ä¸€æ‰¹è¿˜ä¸å–œæ¬¢èƒŒå•è¯ï¼›è¿›å…¥è‹±è¡¨ç­ï¼Œè¢«éè‹±è¯­ä¸“ä¸šçš„åŒå­¦åŠæ‰“ã€æŒ‰åœ¨åœ°ä¸Šæ‘©æ“¦ã€‚äººå’Œäººçš„å·®è·æ¯”äººå’Œç‹—çš„å·®è·å¤§ã€‚ æˆ‘å’Œè®¡ç®—æœºçš„èµ·æºï¼Œæ˜¯æˆ‘åœ¨å¤§ä¸€ä¸‹çš„æ—¶å€™é€‰äº†Pythonç¨‹åºè®¾è®¡ï¼Œé‚£æ—¶å€™ä¹Ÿä¸çŸ¥é“å¤©é«˜åœ°åšï¼Œä¸çŸ¥é“Pythonæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œå®Œå…¨æ²¡æ¥è§¦è¿‡ç¼–ç¨‹ï¼Œä½†å°±æ˜¯é€‰äº†è¿™é—¨è¯¾ã€‚å¯ä»¥è¯´è¿™é—¨è¯¾æ”¹å˜äº†æˆ‘çš„ç”Ÿæ´»å§ã€‚ é‚£æ—¶å€™è¿˜æ˜¯ç–«æƒ…åœ¨å®¶ä¸Šç½‘è¯¾ï¼Œæˆ‘å°±ä»ä»€ä¹ˆéƒ½ä¸ä¼šå¼€å§‹å­¦ï¼Œåˆ°æ…¢æ…¢æœ‰ç‚¹æ€è·¯ï¼Œè‡ªå·±æŠŠç»ƒä¹ é¢˜éƒ½åšå‡ºæ¥ï¼Œç”šè‡³è¿˜åœ¨ç¾¤é‡Œå›ç­”å…¶ä»–åŒå­¦çš„é—®é¢˜ï¼ˆè™½ç„¶æ˜¯åŒ¿åï¼‰ï¼Œæ¯æˆåŠŸä¸€æ­¥éƒ½è®©æˆ‘æ¬£å–œè‹¥ç‹‚ã€æ¬¢å‘¼é›€è·ƒã€‚è¿™ç§å¿ƒæƒ…æ˜¯æˆ‘ä¸Šè‹±è¯­ä¸“ä¸šä»¥æ¥ä»æœªä½“ä¼šè¿‡çš„ï¼Œè‰¹ï¼Œæ€ä¹ˆæ„Ÿè§‰è‡ªå·±å¥½åƒå‡ºè½¨çš„æ¸£ç”·ã€‚è¿™ä¹Ÿæ€ªä¸å¾—æˆ‘äº†ï¼Œåªèƒ½è¯´è‹±è¯­ä¸“ä¸šPUAæˆ‘å¤ªä¹…äº†ã€‚ åœ¨å¤§ä¸€ä¸‹å­¦æœŸå¿«ç»“æŸçš„æ—¶å€™ï¼Œæˆ‘å¥½åƒå°±åœ¨çªç„¶ä¹‹é—´èŒç”Ÿäº†è½¬åˆ°è®¡ç®—æœºä¸“ä¸šçš„æƒ³æ³•ï¼Œè¿™ç§æƒ³æ³•åªä¸€ç¬ï¼Œä½†å°±åƒä¸€ç²’ç§å­ï¼Œåœ¨æˆ‘å¿ƒä¸­ç”Ÿäº†æ ¹å‘äº†èŠ½ï¼Œæ²¡è¿‡å¤šä¹…å°±é•¿æˆäº†å‚å¤©å¤§æ ‘ã€‚æƒ³æ¥äººç”Ÿä¹ŸçœŸæ˜¯æŒºå¥‡å¦™çš„ï¼Œè¿™æ ·çš„sparkæœ€è¿‘åˆåœ¨æˆ‘çš„äººç”Ÿä¸­ä¸Šæ¼”ï¼Œäººäººéƒ½è€ƒç ”ï¼Œä½†ä¸è€ƒç ”çš„æƒ³æ³•å°±åœ¨æˆ‘çš„è„‘ä¸­å‡ºç°äº†ï¼Œè¿™ç§æƒ³æ³•æ„ˆæ¼”æ„ˆçƒˆï¼Œè®©æˆ‘åšå‡ºäº†è‡ªå·±çš„å†³å®šã€‚æˆ‘ä¸çŸ¥é“åƒè¿™æ ·çš„sparkä¼šå°†æˆ‘çš„äººç”Ÿå¸¦å‘ä½•å¤„ï¼Œä½†æˆ‘çŸ¥é“å®ƒä»¬å·²ç»æ”¹å˜äº†æˆ‘çš„äººç”Ÿï¼Œæˆ‘åšå‡ºäº†æˆ‘çš„å†³å®šã€‚ å¤§äºŒå‰çš„é‚£ä¸ªå°å­¦æœŸæˆ‘å°±æ²¡æœ‰é€‰è‹±è¯­ä¸“ä¸šçš„è¯¾äº†ï¼Œå¤§äºŒä¸Šå­¦æœŸå°±å®Œå…¨ç…§ç€è®¡ç®—æœºä¸“ä¸šåŸ¹å…»æ–¹æ¡ˆé€‰è¯¾äº†ï¼Œå…´é«˜é‡‡çƒˆç­‰ç€åŠ è¯¾ã€‚å“ˆå“ˆï¼Œç„¶è€Œæ²¡ç»™æˆ‘åŠ è¯¾ã€‚ to be continuedâ€¦","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]},{"title":"JWTåœ¨Djangoä¸­çš„å…·ä½“å®ç°","slug":"JWTåœ¨Djangoä¸­çš„å…·ä½“å®ç°","date":"2021-12-03T09:10:25.000Z","updated":"2021-12-03T10:47:04.618Z","comments":true,"path":"2021/12/03/JWTåœ¨Djangoä¸­çš„å…·ä½“å®ç°/","link":"","permalink":"https://vanessayaoyao.github.io/2021/12/03/JWT%E5%9C%A8Django%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0/","excerpt":"","text":"è®°å½•ä¸€ä¸‹ï¼ŒåŠ æ·±è‡ªå·±çš„ç†è§£ã€‚ ä»€ä¹ˆæ˜¯JWTï¼ŸJWTæ˜¯Json Web Tokençš„ç¼©å†™ï¼Œå¯å»å®˜ç½‘æŸ¥çœ‹æ›´å¤šã€‚ ç®€å•è¯´æ¥ï¼Œå®ƒå’Œsessionå¹²ç€ä¸€æ ·çš„æ´»ï¼Œå³èº«ä»½è®¤è¯ã€‚å®ƒä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæœ¬è´¨æ˜¯ä¸€é•¿ä¸²å­—ç¬¦ä¸²ï¼Œç”±header, payloadå’Œsignatureç»„æˆã€‚ Why JWT not session? ä½¿ç”¨session å­˜åœ¨CSRFæ”»å‡» sessionå­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ— æ³•é€‚ç”¨åˆ†å¸ƒå¼ç«™ç‚¹ã€‚ åœ¨Djangoä¸­ä½¿ç”¨é¦–å…ˆå®‰è£…PyJWT 1pip install PyJWT models.pyé‡Œå»ºä¸€å¼ ç”¨æˆ·è¡¨ï¼Œæœ‰ç”¨æˆ·åã€å¯†ç ç­‰å­—æ®µã€‚ in views.py 1234567891011121314151617181920212223242526from .models import Userimport jwt, datetime, simplejson #å¯¼å…¥def login(request): if request.method == &quot;POST&quot;: #æ¥æ”¶jsonæ•°æ® username = simplejson.loads(request.body)[&#x27;username&#x27;] password = simplejson.loads(request.body)[&#x27;password&#x27;] #è¿™é‡ŒéªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ä»€ä¹ˆçš„æˆ‘å°±å…ˆä¸å†™äº† user = User.objects.filter(username=username).first() payload = &#123; #å°†è¯¥ç”¨æˆ·çš„idæˆ–usernameåŠ å…¥payloadä¸­ &quot;id&quot;: user.id, #è¿‡æœŸæ—¶é—´ï¼Œæˆ‘è¿™é‡Œå†™çš„æ˜¯60åˆ†é’Ÿåè¿‡æœŸ &quot;exp&quot;: datetime.datetime.utcnow() + datetime.timedelta(minutes=60), #ç”Ÿæ•ˆæ—¶é—´ï¼Œæˆ‘è¿™é‡Œå†™çš„æ˜¯å³åˆ»ç”Ÿæ•ˆ &quot;iat&quot;: datetime.datetime.utcnow() &#125; #å°†payloadåŠ å¯†ï¼Œæˆ‘çš„å¯†é’¥æ˜¯&quot;secret&quot;(å¯ä»¥éšä¾¿å†™) token = jwt.encode(payload, &quot;secret&quot;, algorithm=&#x27;HS256&#x27;).decode(&#x27;utf-8&#x27;) #å°†tokenè¿”å› return JsonResponse(&#123;&#x27;jwt&#x27;: token, &#x27;msg&#x27;:&#x27;success&#x27;&#125;) else: return JsonResponse(&#123;&#x27;msg&#x27;: &#x27;wrong http method&#x27;&#125;) 123456789101112131415161718192021def user_info(request): if request.method == &quot;GET&quot;: #æ¥æ”¶å‰ç«¯å°ä¼™ä¼´æ”¾åœ¨HTTPå¤´éƒ¨çš„token #è¿™æ ·ä¹Ÿé¿å…äº†CSRFæ”»å‡» token = request.META.get(&#x27;HTTP_AUTHORIZATION&#x27;) if not token: msg = &#x27;not get token&#x27; try: #ä½¿ç”¨ç›¸åŒçš„å¯†é’¥è§£å¯† payload = jwt.decode(token, &#x27;secret&#x27;, algorithms=[&#x27;HS256&#x27;]) #æ‹¿åˆ°ç”¨æˆ·idï¼Œä»è€Œå®Œæˆç”¨æˆ·è®¤è¯ user = User.objects.get(id=payload[&#x27;id&#x27;]) msg = &#x27;get token, and I know you are &#x27; + user.username #ä¹Ÿä¼šå­˜åœ¨å¼‚å¸¸ except jwt.ExpiredSignatureError: #å¦‚è¿™é‡Œæ˜¯tokenè¿‡æœŸ msg = &#x27;token expired&#x27; except Exception as e: #è¿˜æœ‰å…¶ä»–è¿‡æœŸç±»å‹ï¼Œå°±ä¸å±•å¼€å†™äº† msg = &quot;token invalid&quot; return JsonResponse(&#123;&#x27;token&#x27;: token, &#x27;msg&#x27;: msg&#125;) else: return JsonResponse(&#123;&#x27;msg&#x27;: &#x27;wrong http method&#x27;&#125;) æ¥å£æµ‹è¯•å¯ç”¨Postmanï¼Œ apifoxç­‰ã€‚ è¿™åªæ˜¯ä¸€ä¸ªå°demoï¼Œå®é™…è¿ç”¨ä¸­ä¸å¯èƒ½æ¯ä¸ªéœ€è¦èº«ä»½è®¤è¯çš„åœ°æ–¹éƒ½å†™ä¸€éï¼ˆè¿™ä¹ˆå¹²ä¹Ÿä¸æ˜¯ä¸è¡Œï¼‰ï¼Œæ‰€ä»¥è€ƒè™‘å°è£…æˆè£…é¥°å™¨ã€‚ è¿™é‡Œæˆ‘è‡ªæˆ‘æ£€è®¨ä¸€ä¸‹ï¼Œå…¶å®æˆ‘è£…é¥°å™¨å¹¶æ²¡æœ‰å­¦ä¼šï¼Œåªä¼šç…§æŠ„åˆ«äººçš„ä»£ç ã€‚ æ”¹å¤©å†å†™ä¸€ç¯‡å…³äºè£…é¥°å™¨çš„åšå®¢ã€‚ï¼ˆç«‹flagäº†ï¼‰ See you.","categories":[],"tags":[{"name":"code","slug":"code","permalink":"https://vanessayaoyao.github.io/tags/code/"}]},{"title":"dockerçœŸä»–çˆ¹çš„éš¾","slug":"dockerçœŸä»–çˆ¹çš„éš¾","date":"2021-11-15T15:01:49.000Z","updated":"2021-11-15T15:04:08.234Z","comments":true,"path":"2021/11/15/dockerçœŸä»–çˆ¹çš„éš¾/","link":"","permalink":"https://vanessayaoyao.github.io/2021/11/15/docker%E7%9C%9F%E4%BB%96%E7%88%B9%E7%9A%84%E9%9A%BE/","excerpt":"","text":"ä¸‡äº‹å¼€å¤´éš¾ï¼ŒçœŸç†å•Šã€‚ éš¾ä»€ä¹ˆéš¾ï¼Ÿä¸éš¾ï¼è¿™æœ‰ä»€ä¹ˆéš¾çš„ï¼Œåªæ˜¯ä½ ä¸ç†Ÿæ‚‰ç½¢äº†ã€‚ å¥½ï¼å¾ˆæœ‰ç²¾ç¥ï¼","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]},{"title":"æ€ä¹ˆè¯´å‘¢ï¼Œè¯´å°±æ˜¯ä¸æƒ³è€ƒç ”äº†","slug":"æ€ä¹ˆè¯´å‘¢ï¼Œè¯´å°±æ˜¯ä¸æƒ³è€ƒç ”äº†","date":"2021-10-11T00:23:28.000Z","updated":"2021-10-11T00:26:59.873Z","comments":true,"path":"2021/10/11/æ€ä¹ˆè¯´å‘¢ï¼Œè¯´å°±æ˜¯ä¸æƒ³è€ƒç ”äº†/","link":"","permalink":"https://vanessayaoyao.github.io/2021/10/11/%E6%80%8E%E4%B9%88%E8%AF%B4%E5%91%A2%EF%BC%8C%E8%AF%B4%E5%B0%B1%E6%98%AF%E4%B8%8D%E6%83%B3%E8%80%83%E7%A0%94%E4%BA%86/","excerpt":"","text":"æˆ‘è™½æ— æ„é€é¹¿ï¼Œå´çŸ¥è‹ç”Ÿè‹¦æ¥šã€‚ æˆ‘å¤´é“ï¼Œè¦å»æ’å—å¢™äº†ã€‚","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]},{"title":"haha","slug":"haha","date":"2021-09-01T03:31:34.000Z","updated":"2021-09-01T03:33:30.397Z","comments":true,"path":"2021/09/01/haha/","link":"","permalink":"https://vanessayaoyao.github.io/2021/09/01/haha/","excerpt":"","text":"å“ˆå“ˆï¼Œå†™ä¸ªå±ï¼Œå†™ç‹—å±ã€‚ å°±æˆ‘ä»å°åˆ°å¤§æ²¡å†™è¿‡å‡ ç¯‡ç¬”è®°å°±èƒ½çœ‹å‡ºæ¥ï¼Œæˆ‘èƒ½å†™ä¸ªå±çš„åšå®¢ã€‚","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]},{"title":"æš‘å‡ä¸å­¦ä¹ æˆ‘å°±ç‹—å¸¦","slug":"æš‘å‡ä¸å­¦ä¹ æˆ‘å°±ç‹—å¸¦","date":"2021-06-27T06:04:16.000Z","updated":"2021-09-28T10:26:39.992Z","comments":true,"path":"2021/06/27/æš‘å‡ä¸å­¦ä¹ æˆ‘å°±ç‹—å¸¦/","link":"","permalink":"https://vanessayaoyao.github.io/2021/06/27/%E6%9A%91%E5%81%87%E4%B8%8D%E5%AD%A6%E4%B9%A0%E6%88%91%E5%B0%B1%E7%8B%97%E5%B8%A6/","excerpt":"","text":"æ˜å¤©å¼€å§‹è€ƒç¬¬ä¸€é—¨ ä¸ƒæœˆå…­å·å›å®¶ æš‘å‡ä¸å­¦ä¹ æˆ‘å°±ç‹—å¸¦ï¼Œæˆ‘æ€æˆ‘è‡ªå·± æŠŠæˆ‘çš„åšå®¢æ•´å¾—å¹²å¹²å‡€å‡€æ¼‚æ¼‚äº®äº®é‡Œé‡Œå•¥å•¥ äº‰å–å†™å‡ ç¯‡æœ‰æŠ€æœ¯çš„å¼å¼","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]},{"title":"å¯’å‡æ—¥å¸¸","slug":"å¯’å‡æ—¥å¸¸","date":"2021-02-07T16:23:46.000Z","updated":"2021-06-20T08:34:20.627Z","comments":true,"path":"2021/02/08/å¯’å‡æ—¥å¸¸/","link":"","permalink":"https://vanessayaoyao.github.io/2021/02/08/%E5%AF%92%E5%81%87%E6%97%A5%E5%B8%B8/","excerpt":"","text":"ç¬¬ä¸€å¤© åˆ·æ‰‹æœº ç¬¬äºŒå¤© åˆ·æ‰‹æœº ç¬¬ä¸‰å¤© åˆ·æ‰‹æœº ç¬¬å››å¤© åˆ·æ‰‹æœº ç¬¬äº”å¤© åˆ·æ‰‹æœº ç¬¬å…­å¤© tmd, çƒ¦æ­»äº†ã€‚è€å­è¦å­¦ä¹ ï¼ ç¬¬ä¸ƒå¤© åˆ·æ‰‹æœºã€‚ã€‚ã€‚","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2021-01-31T06:55:53.353Z","updated":"2021-01-31T06:55:53.353Z","comments":true,"path":"2021/01/31/hello-world/","link":"","permalink":"https://vanessayaoyao.github.io/2021/01/31/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"code","slug":"code","permalink":"https://vanessayaoyao.github.io/tags/code/"},{"name":"life","slug":"life","permalink":"https://vanessayaoyao.github.io/tags/life/"}]}